!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactSpeech=e(require("react")):t.ReactSpeech=e(t.React)}(this,function(t){return function(t){function e(n){if(s[n])return s[n].exports;var o=s[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){const n=s(1),o=s(2),r=s(4),i=s(6),a=s(5),p=n.createClass({displayName:"react-speech",propTypes:{styles:n.PropTypes.object,autostart:n.PropTypes.bool,text:n.PropTypes.string.isRequired,pitch:n.PropTypes.string,rate:n.PropTypes.string,volume:n.PropTypes.string,lang:n.PropTypes.string,voiceURI:n.PropTypes.string,voice:n.PropTypes.string,textAsButton:n.PropTypes.bool,displayText:n.PropTypes.string,disabled:n.PropTypes.bool},getInitialState:function(t){return t=t||this.props},componentWillMount:function(){this.setState(this.getState())},componentDidMount:function(){this.setButtonState("all","none","none","none"),a.supported()&&this.props.autostart&&this.play()},getState:function(){const t=JSON.parse(JSON.stringify(i));for(var e in this.props.styles)this.props.styles.hasOwnProperty(e)&&(t[e]=Object.assign(t[e],this.props.styles[e]));return{styles:t}},play:function(){this.setSpeechSynthesis(),this.speechSynthesis.speak(),this.setButtonState("none","all","all","none")},pause:function(){this.speechSynthesis.pause(),this.setButtonState("none","all","none","all")},resume:function(){this.speechSynthesis.resume(),this.setButtonState("none","all","all","none")},stop:function(){this.speechSynthesis.cancel(),this.setButtonState("all","none","none","none")},setButtonState:function(t,e,s,n){const r=o(this.state,{styles:{play:{button:{pointerEvents:{$set:t}}},stop:{button:{pointerEvents:{$set:e}}},pause:{button:{pointerEvents:{$set:s}}},resume:{button:{pointerEvents:{$set:n}}}}});this.setState(r)},setSpeechSynthesis:function(){this.speechSynthesis=new a(this.props),this.speechSynthesis.onend(this.onend),this.speechSynthesis.onerror(this.onerror)},onend:function(){this.stop()},onerror:function(){this.stop()},render:function(){if(this.props.disabled||!a.supported())return n.createElement("span",{className:"rs-container",style:this.state.styles.container},n.createElement("span",{className:"rs-text",style:this.state.styles.text},this.props.text));var t,e,s,o;return t=this.props.textAsButton?n.createElement(r,{className:"rs-play",styles:this.state.styles.play,onClick:this.play},n.createElement("span",{className:"rs-text",style:this.state.styles.text},this.props.displayText||this.props.text)):n.createElement(r,{className:"rs-play",styles:this.state.styles.play,onClick:this.play},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:this.state.styles.play.width,height:this.state.styles.play.height,viewBox:"0 0 24 24"},n.createElement("path",{d:"M8 5v14l11-7z"}),n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))),this.props.stop&&(e=n.createElement(r,{className:"rs-stop",styles:this.state.styles.stop,onClick:this.stop},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:this.state.styles.stop.width,height:this.state.styles.stop.height,viewBox:"0 0 24 24"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n.createElement("path",{d:"M6 6h12v12H6z"})))),this.props.pause&&(s=n.createElement(r,{className:"rs-pause",styles:this.state.styles.pause,onClick:this.pause},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:this.state.styles.pause.width,height:this.state.styles.pause.height,viewBox:"0 0 24 24"},n.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))),this.props.resume&&(o=n.createElement(r,{className:"rs-resume",styles:this.state.styles.resume,onClick:this.resume},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:this.state.styles.resume.width,height:this.state.styles.resume.height,viewBox:"0 0 24 24"},n.createElement("path",{d:"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"}),n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))),n.createElement("span",{className:"rs-container",style:this.state.styles.container},t," ",e," ",s," ",o)}});p.SpeechSynthesis=a,t.exports=p},function(e,s){e.exports=t},function(t,e,s){"use strict";function n(t){return g.call(t).slice(8,-1)}function o(t){return Array.isArray(t)?m(t.constructor(t.length),t):"Map"===n(t)?new Map(t):"Set"===n(t)?new Set(t):t&&"object"==typeof t?m(Object.create(Object.getPrototypeOf(t)),t):t}function r(t,e,s){d(Array.isArray(t),"update(): expected target of %s to be an array; got %s.",s,t),i(e[s],s)}function i(t,e){d(Array.isArray(t),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",e,t)}function a(t,e){d(Array.isArray(t),"Expected $splice target to be an array; got %s",t),p(e.$splice)}function p(t){d(Array.isArray(t),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",t)}function c(t){d("function"==typeof t,"update(): expected spec of $apply to be a function; got %s.",t)}function u(t){d(1===Object.keys(t).length,"Cannot have more than one key in an object with $set")}function h(t,e){d(e&&"object"==typeof e,"update(): $merge expects a spec of type 'object'; got %s",e),d(t&&"object"==typeof t,"update(): $merge expects a target of type 'object'; got %s",t)}function l(t,e){var s=n(t);d("Map"===s||"Set"===s,"update(): %s expects a target of type Set or Map; got %s",e,s)}Object.defineProperty(e,"__esModule",{value:!0});var d=s(3),y=Object.prototype.hasOwnProperty,f=Array.prototype.splice,g=Object.prototype.toString,m=Object.assign||function(t,e){return b(e).forEach(function(s){y.call(e,s)&&(t[s]=e[s])}),t},b="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)},v=function(){function t(){this.commands=m({},w),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var s=this,r="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(r)||d(!Array.isArray(r),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),d("object"==typeof r&&null!==r,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(this.commands).join(", "));var i=t;return b(r).forEach(function(e){if(y.call(s.commands,e)){var a=t===i;i=s.commands[e](r[e],i,r,t),a&&s.isEquals(i,t)&&(i=t)}else{var p="Map"===n(t)?s.update(t.get(e),r[e]):s.update(t[e],r[e]),c="Map"===n(i)?i.get(e):i[e];s.isEquals(p,c)&&("undefined"!=typeof p||y.call(t,e))||(i===t&&(i=o(t)),"Map"===n(i)?i.set(e,p):i[e]=p)}}),i},t}();e.Context=v;var w={$push:function(t,e,s){return r(e,s,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,s){return r(e,s,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,s,n){return a(e,s),t.forEach(function(t){p(t),e===n&&t.length&&(e=o(n)),f.apply(e,t)}),e},$set:function(t,e,s){return u(s),t},$toggle:function(t,e){i(t,"$toggle");var s=t.length?o(e):e;return t.forEach(function(t){s[t]=!e[t]}),s},$unset:function(t,e,s,n){return i(t,"$unset"),t.forEach(function(t){Object.hasOwnProperty.call(e,t)&&(e===n&&(e=o(n)),delete e[t])}),e},$add:function(t,e,s,r){return l(e,"$add"),i(t,"$add"),"Map"===n(e)?t.forEach(function(t){var s=t[0],n=t[1];e===r&&e.get(s)!==n&&(e=o(r)),e.set(s,n)}):t.forEach(function(t){e!==r||e.has(t)||(e=o(r)),e.add(t)}),e},$remove:function(t,e,s,n){return l(e,"$remove"),i(t,"$remove"),t.forEach(function(t){e===n&&e.has(t)&&(e=o(n)),e.delete(t)}),e},$merge:function(t,e,s,n){return h(e,t),b(t).forEach(function(s){t[s]!==e[s]&&(e===n&&(e=o(n)),e[s]=t[s])}),e},$apply:function(t,e){return c(t),t(e)}},x=new v;e.isEquals=x.update.isEquals,e.extend=x.extend,e.default=x.update,e.default.default=t.exports=m(e.default,e)},function(t,e,s){"use strict";var n=function(t,e,s,n,o,r,i,a){if(void 0===e)throw new Error("invariant requires an error message argument");if(!t){var p;if(void 0===e)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,n,o,r,i,a],u=0;p=new Error(e.replace(/%s/g,function(){return c[u++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};t.exports=n},function(t,e,s){const n=s(1),o=n.createClass({displayName:"react-speech-button",propTypes:{styles:n.PropTypes.object.isRequired,onClick:n.PropTypes.func.isRequired},getInitialState:function(t){return t=t||this.props},componentDidMount:function(){this.setState({focus:!1,hover:!1,color:this.props.styles.button.Color,backgroundColor:this.props.styles.button.backgroundColor})},enter:function(){this.setState({hover:!0})},leave:function(){this.setState({hover:!1})},render:function(){const t=this.state.hover?this.props.styles.hover.backgroundColor:this.state.backgroundColor,e=this.state.hover?this.props.styles.hover.color:this.state.color,s=Object.assign({},this.props.styles.button,{color:e,backgroundColor:t});return n.createElement("button",n.__spread({type:"button"},this.props,{style:s,onMouseEnter:this.enter,onMouseLeave:this.leave}))}});t.exports=o},function(t,e){const s=function(t){this.utterance=new window.SpeechSynthesisUtterance,this.selected=s.getVoice(t.voice),this.utterance.voice=this.selected&&this.selected.count>0?this.selected[0]:"Fiona",this.utterance.voiceURI="Fiona",this.utterance.text=t.text.replace(/\n/g,""),this.utterance.lang=t.lang||"en-GB",this.utterance.pitch=parseFloat(t.pitch,10)||.8,this.utterance.rate=parseFloat(t.rate,10)||1,this.utterance.volume=parseFloat(t.volume,10)||1};s.supported=function(t){return window.speechSynthesis},s.getVoice=function(t){return window.speechSynthesis.getVoices().filter(function(e){return e.name===t})},s.prototype.onend=function(t){this.utterance.onend=t},s.prototype.onerror=function(t){this.utterance.onerror=t},s.prototype.speak=function(){window.speechSynthesis.cancel(),window.speechSynthesis.speak(this.utterance)},s.prototype.pause=function(){window.speechSynthesis.pause()},s.prototype.cancel=function(){window.speechSynthesis.cancel()},s.prototype.resume=function(){window.speechSynthesis.resume()},t.exports=s},function(t,e){t.exports={container:{width:"100%"},text:{width:"100%",display:""},play:{hover:{backgroundColor:"GhostWhite"},button:{width:"34",height:"34",cursor:"pointer",pointerEvents:"none",outline:"none",backgroundColor:"Gainsboro",border:"solid 1px rgba(255,255,255,1)",borderRadius:6}},stop:{hover:{backgroundColor:"GhostWhite"},button:{width:"34",height:"34",cursor:"pointer",pointerEvents:"none",outline:"none",backgroundColor:"Gainsboro",border:"solid 1px rgba(255,255,255,1)",borderRadius:6}},pause:{hover:{backgroundColor:"GhostWhite"},button:{width:"34",height:"34",cursor:"pointer",pointerEvents:"none",outline:"none",backgroundColor:"Gainsboro",border:"solid 1px rgba(255,255,255,1)",borderRadius:6}},resume:{hover:{backgroundColor:"GhostWhite"},button:{width:"34",height:"34",cursor:"pointer",pointerEvents:"none",outline:"none",backgroundColor:"Gainsboro",border:"solid 1px rgba(255,255,255,1)",borderRadius:6}}}}])});